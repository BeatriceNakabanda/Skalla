{"remainingRequest":"/media/beatrice/AA5A6A6A5A6A336D1/templates/1/new/Estimation-System/skalla_client/node_modules/babel-loader/lib/index.js!/media/beatrice/AA5A6A6A5A6A336D1/templates/1/new/Estimation-System/skalla_client/node_modules/cache-loader/dist/cjs.js??ref--0-0!/media/beatrice/AA5A6A6A5A6A336D1/templates/1/new/Estimation-System/skalla_client/node_modules/vue-loader/lib/index.js??vue-loader-options!/media/beatrice/AA5A6A6A5A6A336D1/templates/1/new/Estimation-System/skalla_client/src/views/Tables/ProjectsTable.vue?vue&type=script&lang=js&","dependencies":[{"path":"/media/beatrice/AA5A6A6A5A6A336D1/templates/1/new/Estimation-System/skalla_client/src/views/Tables/ProjectsTable.vue","mtime":1580895821251},{"path":"/media/beatrice/AA5A6A6A5A6A336D1/templates/1/new/Estimation-System/skalla_client/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/media/beatrice/AA5A6A6A5A6A336D1/templates/1/new/Estimation-System/skalla_client/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/media/beatrice/AA5A6A6A5A6A336D1/templates/1/new/Estimation-System/skalla_client/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/media/beatrice/AA5A6A6A5A6A336D1/templates/1/new/Estimation-System/skalla_client/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["import \"regenerator-runtime/runtime\";\nimport _asyncToGenerator from \"/media/beatrice/AA5A6A6A5A6A336D1/templates/1/new/Estimation-System/skalla_client/node_modules/@babel/runtime-corejs2/helpers/esm/asyncToGenerator\";\nimport \"core-js/modules/es6.function.name\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport AddProjectForm from \"../Forms/AddProjectForm\";\nimport axios from 'axios';\nvar baseURL = \"api/project\";\nexport default {\n  name: 'projects-table',\n  components: {\n    AddProjectForm: AddProjectForm\n  },\n  props: {\n    type: {\n      type: String\n    },\n    title: String\n  },\n  data: function data() {\n    return {\n      modal1: false,\n      projects: [],\n      project: {\n        name: \"\"\n      },\n      error: false,\n      submitting: false,\n      success: false\n    };\n  },\n  computed: {\n    invalidProjectName: function invalidProjectName() {\n      return this.project.name === '';\n    }\n  },\n  methods: {\n    addProject: function () {\n      var _addProject = _asyncToGenerator(\n      /*#__PURE__*/\n      regeneratorRuntime.mark(function _callee() {\n        var res;\n        return regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                this.clearForm(); //Adding submitting status\n\n                this.submitting = true; //checking whether user is submiting empty project name\n\n                if (!this.invalidProjectName) {\n                  _context.next = 5;\n                  break;\n                }\n\n                this.error = true;\n                return _context.abrupt(\"return\");\n\n              case 5:\n                _context.next = 7;\n                return axios.post(baseURL, {\n                  name: this.project.name\n                });\n\n              case 7:\n                res = _context.sent;\n                this.projects.push({\n                  name: res.data.name\n                });\n                console.log(res.data.name); // this.name = \"\";\n\n                this.success = true;\n                this.error = false; // this.submitting = false\n\n              case 12:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n\n      function addProject() {\n        return _addProject.apply(this, arguments);\n      }\n\n      return addProject;\n    }(),\n    clearForm: function clearForm() {\n      this.success = false;\n      this.error = false;\n    }\n  },\n  created: function () {\n    var _created = _asyncToGenerator(\n    /*#__PURE__*/\n    regeneratorRuntime.mark(function _callee2() {\n      var res;\n      return regeneratorRuntime.wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              _context2.prev = 0;\n              _context2.next = 3;\n              return axios.get(\"api/projects\");\n\n            case 3:\n              res = _context2.sent;\n              this.projects = res.data;\n              _context2.next = 10;\n              break;\n\n            case 7:\n              _context2.prev = 7;\n              _context2.t0 = _context2[\"catch\"](0);\n              console.error(_context2.t0);\n\n            case 10:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, _callee2, this, [[0, 7]]);\n    }));\n\n    function created() {\n      return _created.apply(this, arguments);\n    }\n\n    return created;\n  }()\n};",{"version":3,"sources":["ProjectsTable.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAkFA,OAAA,cAAA;AACA,OAAA,KAAA,MAAA,OAAA;AACA,IAAA,OAAA,GAAA,aAAA;AAEA,eAAA;AACA,EAAA,IAAA,EAAA,gBADA;AAEA,EAAA,UAAA,EAAA;AACA,IAAA,cAAA,EAAA;AADA,GAFA;AAKA,EAAA,KAAA,EAAA;AACA,IAAA,IAAA,EAAA;AACA,MAAA,IAAA,EAAA;AADA,KADA;AAIA,IAAA,KAAA,EAAA;AAJA,GALA;AAWA,EAAA,IAXA,kBAWA;AACA,WAAA;AACA,MAAA,MAAA,EAAA,KADA;AAEA,MAAA,QAAA,EAAA,EAFA;AAGA,MAAA,OAAA,EAAA;AACA,QAAA,IAAA,EAAA;AADA,OAHA;AAMA,MAAA,KAAA,EAAA,KANA;AAOA,MAAA,UAAA,EAAA,KAPA;AAQA,MAAA,OAAA,EAAA;AARA,KAAA;AAWA,GAvBA;AAwBA,EAAA,QAAA,EAAA;AACA,IAAA,kBADA,gCACA;AACA,aAAA,KAAA,OAAA,CAAA,IAAA,KAAA,EAAA;AACA;AAHA,GAxBA;AA6BA,EAAA,OAAA,EAAA;AACA,IAAA,UADA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA,qBAAA,SAAA,GAFA,CAGA;;AACA,qBAAA,UAAA,GAAA,IAAA,CAJA,CAOA;;AAPA,qBAQA,KAAA,kBARA;AAAA;AAAA;AAAA;;AASA,qBAAA,KAAA,GAAA,IAAA;AATA;;AAAA;AAAA;AAAA,uBAYA,KAAA,CAAA,IAAA,CAAA,OAAA,EAAA;AAAA,kBAAA,IAAA,EAAA,KAAA,OAAA,CAAA;AAAA,iBAAA,CAZA;;AAAA;AAYA,gBAAA,GAZA;AAaA,qBAAA,QAAA,CAAA,IAAA,CAAA;AACA,kBAAA,IAAA,EAAA,GAAA,CAAA,IAAA,CAAA;AADA,iBAAA;AAGA,gBAAA,OAAA,CAAA,GAAA,CAAA,GAAA,CAAA,IAAA,CAAA,IAAA,EAhBA,CAiBA;;AAEA,qBAAA,OAAA,GAAA,IAAA;AACA,qBAAA,KAAA,GAAA,KAAA,CApBA,CAqBA;;AArBA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;AAuBA,IAAA,SAvBA,uBAuBA;AACA,WAAA,OAAA,GAAA,KAAA;AACA,WAAA,KAAA,GAAA,KAAA;AACA;AA1BA,GA7BA;AAyDA,EAAA,OAzDA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBA2DA,KAAA,CAAA,GAAA,gBA3DA;;AAAA;AA2DA,cAAA,GA3DA;AA6DA,mBAAA,QAAA,GAAA,GAAA,CAAA,IAAA;AA7DA;AAAA;;AAAA;AAAA;AAAA;AA+DA,cAAA,OAAA,CAAA,KAAA;;AA/DA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA,CAAA","sourcesContent":["<template>\n    <div class=\"card shadow\"\n       :class=\"type === 'dark' ? 'bg-default': ''\">\n    <div class=\"card-header border-0\"\n         :class=\"type === 'dark' ? 'bg-transparent': ''\">\n      <div class=\"row \">\n        <div class=\"col text-right\">\n          <base-button type=\"primary\" id=\"create-estimate\" size=\"md\" class=\"shadow-none spacing btn-md\" @click=\"modal1 = true\">Add Project</base-button>\n          <modal :show.sync=\"modal1\">\n            <template slot=\"header\">\n              <h3 class=\"modal-title ml-2\" id=\"exampleModalLabel\">Add New Project</h3>\n            </template>\n            <!-- Add project form -->\n            <div>\n            <!-- <AddProjectForm  /> -->\n              <form role=\"form\" method=\"POST\" >\n              <div class=\"row mb-3  mr-3\">\n                <div class=\"col-sm-4\">\n                  <h6 class=\"heading-small text-muted\">Project Name</h6>\n                </div>\n                <div class=\"col-sm\">\n                  <base-input\n                    alternative\n                    :class=\"{ 'has-error': submitting && invalidProjectName }\"\n                    ref=\"first\" \n                    placeholder=\"Add project name here...\"\n                    v-model=\"project.name\"\n                    @keypress=\"clearForm\">\n                  </base-input>\n                </div>\n              </div>\n                <p v-if=\"error && submitting\" class=\"error-message ml-3\">\n                  ❗Please add project name\n                </p>\n                <p v-if=\"success\" class=\"success-message ml-3\">\n                  ✅ Project successfully added\n                </p>\n              <base-button\n                class=\"shadow-none cancel-color\"\n                type=\"secondary\"\n                @click=\"modal1 = false\"\n                >Close</base-button>\n              <base-button class=\"shadow-none mr-4\" type=\"primary\" @click=\"addProject\">Add</base-button>\n            </form> \n            </div>\n        </modal>\n        </div>\n      </div>\n    </div>\n\n    <div class=\"table-responsive table-hover\">\n      <table class=\"table\">\n        <thead class=\"thead-light\">\n          <tr>\n            <th class=\"bgcolor\">No</th>\n            <th class=\"bgcolor\">Project</th>\n            <th class=\"bgcolor\"></th>\n            <th class=\"bgcolor\"></th>\n            <th class=\"bgcolor\"></th>\n            <th class=\"bgcolor\"></th>\n            \n        </tr>\n        </thead>\n          <tbody>\n            <tr v-for=\"(project, index) in projects\">\n              <td >{{ index + 1 }}</td>\n               <td> {{ project.name}}</td>\n               <td></td>\n               <td></td>\n               <td></td>\n               <td></td>\n            </tr>\n          </tbody>\n      </table>\n    </div>\n    <div class=\"card-footer d-flex justify-content-end\"\n         :class=\"type === 'dark' ? 'bg-transparent': ''\">\n      <base-pagination></base-pagination>\n    </div>\n  </div>\n</template>\n<script>\nimport AddProjectForm from '../Forms/AddProjectForm'\nimport axios from 'axios';\nconst baseURL = \"api/project\";\n\nexport default {\n    name: 'projects-table',\n    components: {\n      AddProjectForm,\n    },\n    props: {\n      type: {\n        type: String\n      },\n      title: String\n    },\n    data() {\n      return {\n        modal1: false,\n        projects: [],\n        project: {\n          name: \"\"\n        },\n        error: false,\n        submitting: false,\n        success: false,\n\n      }\n    },\n    computed:{\n      invalidProjectName(){\n        return this.project.name === ''\n      }\n  },\n  methods: {\n    async addProject() {\n      this.clearForm()\n      //Adding submitting status\n      this.submitting = true\n      \n      \n      //checking whether user is submiting empty project name\n      if ( this.invalidProjectName ){\n        this.error = true\n        return\n      }\n      const res = await axios.post(baseURL, { name: this.project.name});\n      this.projects.push({\n          name: res.data.name\n        })\n        console.log(res.data.name)\n      // this.name = \"\";\n    \n      this.success = true\n      this.error = false\n      // this.submitting = false\n    },\n    clearForm(){\n      this.success = false\n      this.error = false\n    }\n  },\n    async created(){\n      try{\n        const res = await axios.get(`api/projects`)\n\n        this.projects = res.data;\n      }catch(e){\n        console.error(e)\n      }\n    } \n}\n</script>\n<style>\n#view{\n  color: #747273;\n  padding-left: 10px;\n}\n#left{\n  text-align: left;\n}\n/* Adding cursor to table */\n.table-row{\n  cursor:pointer;\n}\n\n.spacing{\n  padding-left: 16px;\n  padding-right: 16px;\n}\n/* Adjustments to font size of the table head content */\n.table thead th {\n  font-size: 13px;\n  font-weight: 700;\n}\n\n/* First column of table font adjustment */\n.text-sm {\n  font-weight: 400;\n  font-size: 13px !important;\n}\n/* styling rounded border */\n.rounded-circle {\n  border: 1px solid rgb(201, 201, 199);\n  padding: 6px;\n  \n}\n\n/* Status column font size adjustment */\nspan .status{\n  font-size: 13px; \n}\n\n.bgcolor {  \n  background: #e7eaec !important;\n}\n/* displaying action icons on hover */\ntable > tbody > tr .action-icons{\n  visibility: hidden;\n} \ntable > tbody > tr:hover .action-icons{\n  visibility: visible;\n} \n/* styling buttons */\n#create-estimate{\n  border-radius: 4px; \n}\n/* cancel button for modal */\n.cancel-color{\n  color: rgb(135, 141, 148);\n  background-color: #e2e0e1;\n}\n.cancel-color:hover{\n  color: #ffffff;\n  background-color: #afadae;\n}\n\n/* Desktops and laptops ----------- */\n@media only screen  and (min-width : 1224px) {\n.card{\n  margin-top: 30px;\n}\n}\n[class*='-message'] {\n    font-weight: 500;\n  }\n  .error-message {\n    color: #d33c40;\n    text-align: left;\n  }\n  .success-message {\n    color: #32a95d;\n    text-align: left;\n  }\n</style>"],"sourceRoot":"src/views/Tables"}]}